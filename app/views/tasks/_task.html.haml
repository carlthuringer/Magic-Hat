%li.task{ :id => "task_complete_#{task.id}", :class => task.active? ? nil : 'task-active' }
  = link_to task.description, complete_toggle_task_path(task),
    'data-ajax' => 'false', :remote => true, :method => :put
  = link_to "Edit", '#', :class => "form_for_task_#{ task.id }",
    :id => "form-reveal-button"
%li.task-form{ :class => "form_for_task_#{ task.id }" }
  = form_for task do |f|
    = render 'tasks/task_fields', :f => f
    = render 'tasks/habit_fields', :f => f, :task => task
    .actions
      = f.submit "Save", :data => { :ajax => "false" }
      = link_to "Make Habit", '#', :id => "task_#{task.id}_toggle_habit",
        :class => "task-toggle-habit", :data => { :role => "button" }
